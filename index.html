<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TUBA</title>
  <link rel="icon" href="https://i.imgur.com/Msjz5L5.png">
  <link rel="apple-touch-icon" href="https://i.imgur.com/Msjz5L5.png">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0b1220">
  <style>
    :root {
      --bg:#0b1220;
      --card:#0f1724;
      --accent:#1f6feb;
      --muted:#9aa7bf;
      --glass: rgba(255,255,255,0.02);
    }
    * { box-sizing:border-box }
    body {
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
      background:linear-gradient(180deg,var(--bg),#08101a);
      color:#e6eef8;
      -webkit-font-smoothing:antialiased;
      min-height:100vh;
    }

    /* Splash */
    #splash {
      position:fixed;
      inset:0;
      background:#0b1220;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      z-index:10000;
      opacity:1;
      transition:opacity 1s ease;
    }
    #splash img {
      width:120px;
      height:120px;
      border-radius:20px;
      opacity:0;
      transform:scale(0.9);
      animation:fadeZoom 1.8s forwards;
    }
    #splash h1 {
      color:#e6eef8;
      margin-top:12px;
      font-size:22px;
      font-weight:500;
      letter-spacing:1px;
      opacity:0;
      animation:fadeText 2s 0.5s forwards;
    }
    @keyframes fadeZoom {
      0% { opacity:0; transform:scale(0.9); }
      100% { opacity:1; transform:scale(1); }
    }
    @keyframes fadeText {
      0% { opacity:0; }
      100% { opacity:1; }
    }

    /* Conteúdo principal */
    .app {
      display:none;
      width:100%;
      max-width:420px;
      border-radius:16px;
      background:linear-gradient(180deg,var(--card),#0b1220);
      box-shadow:0 8px 30px rgba(2,6,23,0.6);
      padding:22px;
      backdrop-filter:blur(6px);
      margin:0 auto;
      min-height:100vh;
    }
    .brand {
      display:flex;
      gap:12px;
      align-items:center;
      margin-bottom:10px;
      position:sticky;
      top:0;
      background:linear-gradient(180deg,var(--card),#0b1220);
      z-index:10;
      padding-bottom:8px;
    }
    .logo { width:64px;height:64px;border-radius:12px;flex:0 0 64px }
    h1 { font-size:20px;margin:0 }
    p.subtitle { margin:4px 0 18px;color:var(--muted);font-size:13px }
    .grid { display:grid;grid-template-columns:1fr;gap:10px }
    .btn {
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:flex-start;
      padding:14px 16px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,0.04);
      background:linear-gradient(180deg,rgba(255,255,255,0.02),var(--glass));
      cursor:pointer;
      color:inherit;
      text-align:left;
      font-size:15px;
      transition:transform .08s ease, box-shadow .12s ease;
    }
    .btn:hover { transform:translateY(-3px); box-shadow:0 8px 30px rgba(2,6,23,0.5) }
    /* Alteração importante: usar contain para mostrar a imagem inteira */
    .icon {
      width:36px;
      height:28px;
      border-radius:6px;
      object-fit:contain; /* antes estava cover — trocado para contain */
      background:transparent;
      flex:0 0 36px;
    }
    .btn .label { display:flex; flex-direction:column; }
    .btn .label .title { font-weight:600; }
    .btn .label .subtitle { color:var(--muted); font-size:13px; margin-top:2px; }
    footer { margin-top:14px;color:var(--muted);font-size:12px;text-align:center }
    
    /* Área embutida */
    #iframeContainer {
      display:none;
      width:100%;
      height:100vh;
      position:fixed;
      top:0;
      left:0;
      background:#0b1220;
      z-index:9999;
      flex-direction:column;
    }
    #iframeHeader {
      background:#0f1724;
      color:white;
      padding:10px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      position:sticky;
      top:0;
    }
    #iframeHeader button {
      background:var(--accent);
      border:none;
      color:white;
      padding:6px 12px;
      border-radius:8px;
      font-size:14px;
      cursor:pointer;
    }
    #iframeContent {
      flex:1;
      border:none;
      width:100%;
    }
  </style>
</head>
<body>
  <!-- SPLASH SCREEN -->
  <div id="splash">
    <audio id="splashSound">
      <source src="data:audio/mp3;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAACAAACcQCAAWFkaWAAAAAA" type="audio/mp3">
    </audio>
    <img src="https://i.imgur.com/Msjz5L5.png" alt="TUBA Logo">
    <h1>TUBA</h1>
  </div>

  <!-- MENU PRINCIPAL -->
  <div class="app" id="menu" role="application" aria-label="TUBA">
    <div class="brand">
      <img class="logo" src="https://i.imgur.com/Msjz5L5.png" alt="TUBA">
      <div>
        <h1>TUBA</h1>
        <p class="subtitle">Painel rápido para celular</p>
      </div>
    </div>

   <div class="grid">
    <button class="btn" onclick="abrir('https://script.google.com/macros/s/AKfycbyqo2sqE_x5VhtQPInTBS4XO78vk-S0Ec2LbgDtbUYVyX98oOA_oh4VRMdrmk8DBWvx6g/exec?page=orcamentos')" aria-label="Manutenção">
        <img class="icon" src="https://i.imgur.com/rAwvYDB.png" alt="Ícone Orcamentos">
        <div class="label">
          <div class="title">Projetos</div>
          <div class="subtitle">Adicionar / Criar / Gerenciar projetos</div>
        </div>  
      </button>

    <div class="grid">
      <button class="btn" onclick="abrir('https://script.google.com/macros/s/AKfycbyqo2sqE_x5VhtQPInTBS4XO78vk-S0Ec2LbgDtbUYVyX98oOA_oh4VRMdrmk8DBWvx6g/exec?page=veiculos')" aria-label="Veículos">
        <img class="icon" src="https://i.imgur.com/ZHhQ7aM.png" alt="Ícone Veículos">
        <div class="label">
          <div class="title">Saída de veículos</div>
          <div class="subtitle">Registrar saída de veículos</div>
        </div>
      </button>

      <button class="btn" onclick="abrir('https://script.google.com/macros/s/AKfycbyqo2sqE_x5VhtQPInTBS4XO78vk-S0Ec2LbgDtbUYVyX98oOA_oh4VRMdrmk8DBWvx6g/exec?page=manutencao')" aria-label="Manutenção">
        <img class="icon" src="https://i.imgur.com/u62nzLn.png" alt="Ícone Manutenção">
        <div class="label">
          <div class="title">Manutenção</div>
          <div class="subtitle">Acompanhar e registrar manutenções das máquinas</div>
        </div>
      </button>

      <button class="btn" onclick="abrir('https://script.google.com/macros/s/AKfycbyqo2sqE_x5VhtQPInTBS4XO78vk-S0Ec2LbgDtbUYVyX98oOA_oh4VRMdrmk8DBWvx6g/exec?page=materiais')" aria-label="Materiais">
        <img class="icon" src="https://i.imgur.com/C1k7D4E.png" alt="Ícone Materiais">
        <div class="label">
          <div class="title">Materiais</div>
          <div class="subtitle">Controle de estoque e saída</div>
        </div>
      </button>

      <button class="btn" onclick="abrir('https://script.google.com/macros/s/AKfycbyqo2sqE_x5VhtQPInTBS4XO78vk-S0Ec2LbgDtbUYVyX98oOA_oh4VRMdrmk8DBWvx6g/exec?page=kanban')" aria-label="Linha de produção Kanban">
      <img class="icon" src="https://i.imgur.com/N9J1w9X.png" alt="Ícone Kanban">
      <div class="label">
        <div class="title">Linha de produção</div>
        <div class="subtitle">Tarefas em produção</div>
      </div>
    </button>

      <button class="btn" onclick="abrir('https://script.google.com/macros/s/AKfycbyqo2sqE_x5VhtQPInTBS4XO78vk-S0Ec2LbgDtbUYVyX98oOA_oh4VRMdrmk8DBWvx6g/exec?page=geradoretiquetas')" aria-label="Etiquetas">
        <img class="icon" src="https://i.imgur.com/LIeQOca.png" alt="Ícone Etiquetas">
        <div class="label">
          <div class="title">Etiquetas</div>
          <div class="subtitle">Gerar etiquetas</div>
        </div>

        <button class="btn" onclick="abrir('https://script.google.com/macros/s/AKfycbyqo2sqE_x5VhtQPInTBS4XO78vk-S0Ec2LbgDtbUYVyX98oOA_oh4VRMdrmk8DBWvx6g/exec?page=pedidos')" aria-label="Etiquetas">
        <img class="icon" src="https://i.imgur.com/w2y1EzK.png" alt="Ícone Etiquetas">
        <div class="label">
          <div class="title">Pedidos</div>
          <div class="subtitle">Controlar Status e situação de pedidos</div>

        <button class="btn" onclick="abrir('https://script.google.com/macros/s/AKfycbyqo2sqE_x5VhtQPInTBS4XO78vk-S0Ec2LbgDtbUYVyX98oOA_oh4VRMdrmk8DBWvx6g/exec?page=veiculos_list')" aria-label="Etiquetas">
        <img class="icon" src="https://i.imgur.com/R44riCQ.png" alt="Ícone Etiquetas">
        <div class="label">
          <div class="title">Retorno de Veículos</div>
          <div class="subtitle">Registrar a volta de veículos</div>

      
      </button>
    </div>

    <footer>Versão 1 — TUBA FERRAMENTARIA LTDA</footer>
  </div>

  <!-- VISUALIZAÇÃO EMBUTIDA -->
  <div id="iframeContainer">
    <div id="iframeHeader">
      <span>TUBA</span>
      <button onclick="voltar()">⬅ Voltar</button>
    </div>
    <iframe id="iframeContent"></iframe>
  </div>

  <script>
    // SPLASH ANIMADO COM SOM
    window.addEventListener("load", () => {
      const splash = document.getElementById("splash");
      const menu = document.getElementById("menu");
      const sound = document.getElementById("splashSound");

      try { sound.play().catch(()=>{}); } catch {}

      setTimeout(() => {
        splash.style.opacity = "0";
        setTimeout(() => {
          splash.style.display = "none";
          menu.style.display = "block";
        }, 1000);
      }, 1800);
    });

    function abrir(url){
      document.getElementById('menu').style.display = 'none';
      document.getElementById('iframeContainer').style.display = 'flex';
      document.getElementById('iframeContent').src = url;
    }

    function voltar(){
      document.getElementById('iframeContainer').style.display = 'none';
      document.getElementById('menu').style.display = 'block';
      document.getElementById('iframeContent').src = '';
    }

    if ('serviceWorker' in navigator) {
    navigator.serviceWorker.getRegistrations().then(function(registrations) {
      for (let registration of registrations) {
        registration.unregister();
      }
    });
  }
  </script>
</body>
</html>